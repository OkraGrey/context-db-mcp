Metadata-Version: 2.4
Name: context-db-mcp
Version: 0.1.0
Summary: MCP server that stores and retrieves project context from an OpenAI vector store.
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: mcp>=0.3.0
Requires-Dist: openai>=1.44.0
Requires-Dist: pydantic>=2.7.0
Requires-Dist: tenacity>=8.2.3
Provides-Extra: dev
Requires-Dist: pytest>=8.3.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.23.6; extra == "dev"

# Context DB MCP

A Model Context Protocol (MCP) server that stores and retrieves project context using OpenAI vector stores. Enable your AI editor to remember and recall project knowledge across sessions.

## Features

- **`ingest_document`** - Store project summaries, design docs, and context in a vector store
- **`retrieve_relevant_chunks`** - Retrieve relevant context using semantic search

## Installation

```bash
pip install -e .
```

**Requirements:** Python 3.11+ and an OpenAI API key

## Configuration

Create a `.env` file (or set environment variables):

```bash
# Required
OPENAI_API_KEY=sk-your-api-key-here

# Optional - Vector Store (use ID for existing, NAME to create/find)
CONTEXT_DB_VECTOR_STORE_ID=vs_xxxxx
# OR
CONTEXT_DB_VECTOR_STORE_NAME=my-context-store

# Optional - Tuning
CONTEXT_DB_DEFAULT_MAX_RESULTS=10
CONTEXT_DB_REQUEST_TIMEOUT_SECONDS=120.0
CONTEXT_DB_LOG_LEVEL=INFO
```

Use `env.example` as a template.

## Usage

### Claude Code

Add to `~/.anthropic/config.json`:

```json
{
  "mcpServers": {
    "context-db": {
      "command": "context-db-mcp",
      "env": {
        "OPENAI_API_KEY": "sk-your-api-key-here",
        "CONTEXT_DB_VECTOR_STORE_NAME": "claude-context"
      }
    }
  }
}
```

Restart Claude Code. Tools will be available as:
- `mcp__context-db__ingest_document`
- `mcp__context-db__retrieve_relevant_chunks`

### Cursor

Add to `~/.cursor/mcp.json`:

```json
{
  "servers": {
    "context-db": {
      "command": "context-db-mcp",
      "env": {
        "OPENAI_API_KEY": "${OPENAI_API_KEY}",
        "CONTEXT_DB_VECTOR_STORE_NAME": "cursor-context"
      }
    }
  }
}
```

Restart Cursor and access the tools from the MCP integration panel.

## Testing

Run the diagnostic script to verify your setup:

```bash
python test_mcp_connection.py
```

Run the test suite:

```bash
pip install -e ".[dev]"
pytest tests/ -v
```

## License

MIT
